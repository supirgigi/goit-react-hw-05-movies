"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[548],{169:function(e,r,t){t.d(r,{Z:function(){return s}});var n=t(1087),u=t(7689),a="movie-list_list__h0XkG",c=t(184),o=function(e){var r=e.movies,t=(0,u.TH)();return(0,c.jsx)("ul",{className:a,children:r.map((function(e){var r=e.title,u=e.id;return(0,c.jsx)("li",{children:(0,c.jsx)(n.rU,{state:{from:t},to:"/movies/".concat(u),children:r})},r)}))})};o.defaultProps={movies:[]};var s=o},7548:function(e,r,t){t.r(r),t.d(r,{default:function(){return Z}});var n=t(5861),u=t(9439),a=t(7757),c=t.n(a),o=t(2791),s=t(1087),i=t(8174),f=t(7825),p=t(2758),l=t(8197),v=t(169),m=t(4942),h=t(1413),d="search-form_form__jxJzD",x="search-form_input__61taf",g=t(184),b=function(e){var r=e.onSubmit,t=(0,o.useState)({query:""}),n=(0,u.Z)(t,2),a=n[0],c=n[1],s=a.query;return(0,g.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=a.query;if(""===t.trim())return i.Am.error("Enter correct movie title"),void c({query:""});r(t),c({query:""})},className:d,children:[(0,g.jsx)("input",{name:"query",type:"text",value:s,onChange:function(e){var r=e.target,t=r.name,n=r.value;c((0,h.Z)((0,h.Z)({},a),{},(0,m.Z)({},t,n)))},placeholder:"search movies",required:!0,className:x}),(0,g.jsx)("button",{type:"submit",className:"btn",children:"Search"})]})},Z=function(){var e=(0,o.useState)([]),r=(0,u.Z)(e,2),t=r[0],a=r[1],m=(0,o.useState)(!1),h=(0,u.Z)(m,2),d=h[0],x=h[1],Z=(0,o.useState)(null),w=(0,u.Z)(Z,2),y=w[0],_=w[1],k=(0,s.lr)(),j=(0,u.Z)(k,2),q=j[0],S=j[1],N=q.get("query");(0,o.useEffect)((function(){if(N){var e=function(){var e=(0,n.Z)(c().mark((function e(){var r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),_(null),a([]),e.prev=3,e.next=6,(0,l.z1)(N);case 6:if(r=e.sent,t=r.results,0!==r.total_results){e.next=11;break}return e.abrupt("return",i.Am.error('No movies with title "'.concat(N,'" found')));case 11:a(t),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),_(e.t0);case 17:return e.prev=17,x(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,14,17,20]])})));return function(){return e.apply(this,arguments)}}();e()}}),[N]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(b,{onSubmit:function(e){S({query:e})}}),t.length>0&&(0,g.jsx)(v.Z,{movies:t}),d&&(0,g.jsx)(f.Z,{}),y&&(0,g.jsx)(p.Z,{error:y.message})]})}},8197:function(e,r,t){t.d(r,{Hg:function(){return i},M1:function(){return l},TP:function(){return p},sQ:function(){return o},tx:function(){return v},z1:function(){return f}});var n=t(5861),u=t(7757),a=t.n(u),c=t(1912),o="https://image.tmdb.org/t/p/w300",s=c.Z.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"d69968ee858c93c3dbc043339ed72979",page:1}}),i=function(){var e=(0,n.Z)(a().mark((function e(){var r,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("/trending/movie/day");case 2:return r=e.sent,t=r.data,console.log(t),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(a().mark((function e(r){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("/search/movie",{params:{query:r}});case 2:return t=e.sent,n=t.data,console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(a().mark((function e(r){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("/movie/".concat(r));case 2:return t=e.sent,n=t.data,console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(a().mark((function e(r){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("/movie/".concat(r,"/credits"));case 2:return t=e.sent,n=t.data,console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),v=function(){var e=(0,n.Z)(a().mark((function e(r){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("/movie/".concat(r,"/reviews"));case 2:return t=e.sent,n=t.data,console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},2758:function(e,r,t){t.d(r,{Z:function(){return a}});var n="error-msg_text__XCU1C",u=t(184),a=function(e){var r=e.error;return(0,u.jsx)("p",{className:n,children:r})}}}]);
//# sourceMappingURL=548.2c76e8b3.chunk.js.map